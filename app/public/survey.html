<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"> 

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<style>
    body {
        background-color: #003366;
        font-family: Courier, monospace
    }
    button {
        margin: 2% 0 2% 0;
    }
</style>
<body>

    <header class="container">
        <h1 class="text-center jumbotron">Survey Questions</h1>
        
    </header>

    <div class = "container">
        <h4>Name</h4>
        <input type="text" id="name" class="form-control" placeholder= "You Have To" required>

        <h4>Picture</h4>
        <input type="text" id="picture" class="form-control" placeholder= "You Have To" required>
    </div>

    <section class="container">

        <div class="mt-4">
                <p><strong>1. Tiny Hands.</strong></p>
            <select id="questionOne">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>2. Tiny Hands.</strong></p>
            <select id="questionTwo">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>3. Tiny Hands.</strong></p>
            <select id="questionThree">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>4. Tiny Hands.</strong></p>
            <select id="questionFour">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>5. Tiny Hands.</strong></p>
            <select id="questionFive">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>6. Tiny Hands.</strong></p>
            <select id="questionSix">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>7. Tiny Hands.</strong></p>
            <select id="questionSeven">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>8. Tiny Hands.</strong></p>
            <select id="questionEight">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>9. Tiny Hands.</strong></p>
            <select id="questionNine">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <div class="mt-4">
                <p><strong>10. Tiny Hands.</strong></p>
            <select id="questionTen">
                <option selected disabled>1-5</option>
                <option class="choice" value="1">Strongly Disagree</option>
                <option class="choice" value="2">Disagree</option>
                <option class="choice" value="3">Nuetral</option>
                <option class="choice" value="4">Agree</option>
                <option class="choice" value="5">Strongly Agree</option>
            </select>
        </div>

        <button id="submit" type="button" class="btn btn-primary" data-toggle="modal" data-target="#match">Submit</button>

    </section>

    <div class="container">
        <p>Your ideal friend is <strong><span id="newBuddy"></span></strong>!</p>
        
        <img id="buddyPic" src="">
    </div>
    
    <footer class="container">
        <hr>
        <p>
            <i class="fas fa-user-friends"><a href="/api/friends"> API Friends |</a></i>
            <i class="fab fa-github-alt"><a href="https://github.com/Ieapplekamp/FriendFinder" target="_blank"> GitHub Repo</a></i>
        </p>
    </footer>


    <script type="text/javascript">
   
   $("#submit").click(function(event){
            event.preventDefault();
            // Creates new object with survery input
            var newFriend = {
                name: $("#name").val(),
                picture: $("#picture").val(),
                scores: [ 
                    $("#questionOne").val(),
                    $("#questionTwo").val(),
                    $("#questionThree").val(),
                    $("#questionFour").val(),
                    $("#questionFive").val(),
                    $("#questionSix").val(),
                    $("#questionSeven").val(),
                    $("#questionEight").val(),
                    $("#questionNine").val(),
                    $("#questionTen").val(),
                ]
            };

            if (newFriend.name === '' || newFriend.photo === '' || newFriend.scores.includes('1-5')) {
                swal ("Hold up..", "Please fill out ALL the information", "error", {
                    buttons: false,
                    timer: 3000,
                });
                event.preventDefault();
              }

            // Post request that sends survey data to server
            $.post("/api/friends", newFriend, function(data) {
                // console.log(data);
                // console.log(data.bestFriendName);
                
                $("#newBuddy").html(data.bestFriendName);
                $("#buddyPic").attr("src", data.bestFriendPic);
            });
        }); 

    </script>
</body>
</html>